---
import { Image } from "astro:assets";

const {
    src,
    icons = [],
    title = "",
    description = "Nothing to say about it.",
} = Astro.props;
---

<div class="project-container card">
    <div class="card-inner">
        <div class="card-front">
            <Image
                width={400}
                height={400}
                class="main-project"
                src={src}
                alt="Project preview"
            />

            <div class="project-icons">
                {
                    icons.map((icon) => (
                        <Image
                            width={42}
                            height={42}
                            src={icon.src}
                            alt={icon.alt || "Tech icon"}
                        />
                    ))
                }
            </div>
        </div>
        <div class="card-back has-comic-border">
            <h5 class="title is-5">{title}</h5>
            {description}
        </div>
    </div>
</div>

<style>
    .card {
        width: 200px;
        height: 250px;
        margin: 1rem auto;
        perspective: 1000px;
        cursor: pointer;
    }

    .card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        transition: transform 0.6s;
        transform-style: preserve-3d;
    }

    .card:hover .card-inner {
        transform: rotateY(180deg);
    }

    .card-front,
    .card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 0.5rem;
        flex-direction: column;
    }

    .card-front {
    }

    .card-back {
        background: #4a4a4a;
        color: white;
        transform: rotateY(180deg);
    }

    /* */
    .project-container {
        position: relative;
        display: flex;
        flex-direction: column;
        flex: 1 1 0;
        max-width: 350px;
        min-width: 250px;
        margin: 10px;
    }

    .project-container img.main-project {
        width: 100%;
        height: 250px;
        object-fit: cover;
        border-radius: 8px;
    }

    .project-container .project-icons {
        position: absolute;
        bottom: -35px;
        right: 5px;
        display: flex;
        gap: 5px;
    }

    .project-container .project-icons img {
        width: 42px;
        height: 42px;
        cursor: pointer;
    }
</style>
