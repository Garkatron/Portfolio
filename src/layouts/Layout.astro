---
import Photo from "../components/Photo.astro";
import Icon from "../components/Icon.astro";
import facephoto from "../assets/photo.jpg";
import TechGrid from "../components/TechGrid.astro";
import PresentationCard from "../components/PresentationCard.astro";
import ProjectCard from "../components/ProjectCard.astro";
import ProjectGrid from "../components/ProjectGrid.astro";
import CarouselItem from "../components/CarouselItem.astro";
import Carousel from "../components/Carousel.astro";
import SkillProgress from "../components/SkillProgress.astro";
const BASE_PATH = import.meta.env.BASE_URL;
---

<!doctype html>
<html lang="en">
	<head>
		<base href={import.meta.env.BASE_URL} />

		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href={`/favicon.svg`} />

		<meta name="generator" content={Astro.generator} />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
		/>
		<title>Matias</title>
	</head>
	<body>
		<!-- Section 1: Presentation -->
		<main id="section1" class="slice">
			<Photo src={facephoto} />

			<div class="section-content">
				<div
					style="display: flex; width: 100%; justify-content: center;"
				>
					<PresentationCard />
				</div>
				<section id="tech-stack">
					<TechGrid
						title="Languages"
						skills={[
							{
								icon: `${BASE_PATH}icons/java-svgrepo-com.svg`,
								progress: 70,
								title: "Java",
							},
							{
								icon: `${BASE_PATH}icons/js-svgrepo-com.svg`,
								progress: 70,
								title: "Javascript",
							},
							{
								icon: `${BASE_PATH}icons/kotlin-svgrepo-com.svg`,
								progress: 70,
								title: "Kotlin",
							},
							{
								icon: `${BASE_PATH}icons/rust-svgrepo-com.svg`,
								progress: 55,
								title: "Rust",
							},
							{
								icon: `${BASE_PATH}icons/python-svgrepo-com.svg`,
								progress: 50,
								title: "Python",
							},
						]}
					/>
					<TechGrid
						title="Frameworks & Libraries"
						skills={[
							{
								icon: `${BASE_PATH}icons/bootstrap-4-logo-svgrepo-com.svg`,
								progress: 100,
								title: "Bootstrap",
							},
							{
								icon: `${BASE_PATH}icons/astro-svgrepo-com.svg`,
								progress: 55,
								title: "Astro",
							},
						]}
					/>

					<TechGrid
						title="Tools"
						skills={[
							{
								icon: `${BASE_PATH}icons/git-svgrepo-com.svg`,
								progress: 100,
								title: "Git",
							},
							{
								icon: `${BASE_PATH}icons/postman-icon-svgrepo-com.svg`,
								progress: 100,
								title: "Postman",
							},
						]}
					/>

					<TechGrid
						title="Other"
						skills={[
							{
								icon: `${BASE_PATH}icons/linux-svgrepo-com.svg`,
								progress: 65,
								title: "Linux",
							},
							{
								icon: `${BASE_PATH}icons/sql-database-generic-svgrepo-com.svg`,
								progress: 100,
								title: "SQL Database",
							},
						]}
					/>
				</section>
			</div>
		</main>

		<!-- Section 2: Featured Projects -->
		<div id="section2" class="slice">
			<div class="section-content">
				<h2>Featured Projects</h2>
				<ProjectGrid
					projects={[
						{
							title: "Rlox lang",
							description:
								"I developed a programming language...",
							link: "https://github.com/Garkatron/Rust-Lox-Interpreter",
							image: "https://db0dce98.delivery.rocketcdn.me/es/files/2024/08/Programacion_Procedural_DataScientest-1024x601.png",
						},
						{
							title: "3D Rasterizer in Rust",
							description: "I developed a 3D rendering engine...",
							link: "https://github.com/Garkatron/ScrapRenderer",
							image: `${import.meta.env.BASE_URL}images/renderer3d.png`,
						},
						{
							title: "Rust-Coded LRU",
							description:
								"I implemented an LRU Cache in Rust...",
							link: "https://github.com/Garkatron/LRU-Cache-Rust",
							image: "https://blog.orange.es/wp-content/uploads/sites/4/2023/04/memoria-cache-07.jpg",
						},
					]}
				/>
			</div>
		</div>

		<!-- Section 3: Other Projects and Knowledge -->
		<div id="section3" class="slice">
			<div class="section-content">
				<section>
					<section>
						<h2>Other Projects</h2>
						<Carousel
							items={[
								{
									title: "CHIP-8 Emulator",
									href: "https://github.com/Garkatron/Von-Neumann-Simulator",
									image: `${BASE_PATH}/images/chip8image.png`,
									description:
										"CHIP-8 Emulator implemented in Python",
								},
								{
									title: "TerraX69",
									href: "https://github.com/Garkatron/TerraX69-JS",
									description:
										"JavaScript game built with Tauri",
								},
								{
									title: "PC Pokémon Web",
									href: "https://garkatron.github.io/PC-PokeApi/",
									image: `${BASE_PATH}/images/pokeapi.png`,
									description:
										"An interactive web app for exploring Pokémon data using the PokéAPI",
								},
								{
									title: "Von Neumann Simulator",
									href: "https://github.com/Garkatron/Von-Neumann-Simulator",
									image: `${BASE_PATH}/images/vonneuman.png`,
									description:
										"Von Neumann architecture simulator in Python",
								},
								{
									title: "IWantToLearnX",
									href: "https://github.com/Garkatron/IWantToLearnX",
									description:
										"A personal 'Build Your Own X' project to explore and learn various programming concepts",
								},
								{
									title: "FactBoard NEM",
									href: "https://github.com/Garkatron/FactBoard_NEM",
									description:
										"A Node.js and MongoDB-based app for managing and sharing publications",
								},
								{
									title: "FactBoard",
									href: "https://github.com/Garkatron/FactBoard",
									description:
										"A PHP and MySQL-based app for managing and sharing publications",
								},
							]}
						/>
					</section>

					<section>
						<h2>Minecraft mods</h2>
						<Carousel
							items={[
								{
									title: "BTA PainScale",
									href: "https://github.com/Garkatron/BTA-PainScale",
									description:
										"A Minecraft mod with a dynamic difficulty system, enhanced health mechanics, and tougher enemies",
								},
								{
									title: "BTA Guidebook",
									href: "https://github.com/Garkatron/BTA-Guidebook.md",
									image: `${BASE_PATH}/images/guidebook.png`,
									description:
										"A Markdown-based guidebook library for BTA modders with in-game editing and export features",
								},
								{
									title: "StanleyTemperature",
									href: "https://github.com/Garkatron/StanleyTemperature",
									image: `${BASE_PATH}/images/stanley.png`,
									description:
										"A temperature mod and skill system library for RPG-style gameplay in Minecraft",
								},
								{
									title: "BTA Paperwork",
									href: "https://github.com/Garkatron/BTA-Paperwork",
									image: `${BASE_PATH}/images/paperwork.png`,
									description:
										"A Minecraft mod adding decorative blocks, items, and paper-based entities like cardboard boxes",
								},
								{
									title: "BTA POVERH",
									href: "https://github.com/Garkatron/BTA-POVERH",
									image: `${BASE_PATH}/images/parkour.png`,
									description:
										"A Minecraft mod introducing stamina and parkour mechanics for enhanced movement",
								},
							]}
						/>
					</section>
				</section>
			</div>
		</div>

		<style>
			#tech-stack {
				width: 100%;
			}

			.section-content {
				width: 100%;
				border-radius: 8px;
				padding: 2rem;
				background: transparent;
				position: relative;
				z-index: 2;
			}

			.slice {
				height: 100vh;
				position: relative;
				z-index: 2;
			}

			body {
				background-color: #1b1b1b;
				background-image: url("/Portfolio/bg/olas10.svg");
				background-size: cover;
				background-repeat: no-repeat;
				background-position: center;
				position: relative;
			}

			body::before {
				content: "";
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-image: url("/Portfolio/bg/topography.svg");
				background-repeat: repeat;
				background-size: 1000px;
				opacity: 0.25;
				z-index: -1;
				pointer-events: none;
			}

			html {
				background-color: transparent;
			}

			main {
				background: transparent;
				margin: 0;
				padding: 0;
				display: flex;
				flex-direction: row;
				justify-content: space-between;
				width: 100%;
				min-height: 100vh;
				position: relative;
				z-index: 2;
			}

			.left-info {
				width: 30%;
				flex-shrink: 0;
			}

			.right-info section h2 {
				color: #fff;
				margin-bottom: 0.5rem;
			}

			.right-info section h5 {
				color: #ccc;
				margin-bottom: 1rem;
			}

			.right-info {
				flex: 1;
				display: flex;
				flex-direction: column;
				padding: 2rem;
				box-sizing: border-box;
				align-items: center;
				border-left: 2px solid white;
				background-color: rgba(1, 4, 8, 0.379);
				position: relative;
				z-index: 2;
			}

			.right-info > section {
				width: 99%;
			}

			a {
				display: inline-block;
				outline: 0;
				text-align: center;
				cursor: pointer;
				min-width: 80px;
				height: 32px;
				color: rgb(255, 255, 255);
			}

			.project-section {
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
			}

			.footer {
				width: 100%;
				text-align: center;
				padding: 1rem 0;
				background-color: rgba(1, 4, 8, 0.379);
				color: #fff;
				position: relative;
				z-index: 2;
				bottom: 0;
			}

			.footer p {
				margin: 0;
				font-size: 0.9rem;
			}

			@media (max-width: 900px) {
				main {
					flex-direction: column;
				}
				.left-info {
					width: 100%;
				}
				.right-info {
					width: 100%;
					border-left: none;
				}
			}
		</style>

		<script is:inline>
			document.addEventListener("DOMContentLoaded", () => {
				document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
					anchor.addEventListener("click", function (e) {
						e.preventDefault();
						const targetId = this.getAttribute("href");
						const targetElement = document.querySelector(targetId);
						if (targetElement) {
							targetElement.scrollIntoView({
								behavior: "instant",
								block: "start",
							});
						}
					});
				});

				let isScrolling = false;

				window.addEventListener(
					"wheel",
					(e) => {
						e.preventDefault();
						if (isScrolling) return;
						isScrolling = true;

						setTimeout(() => {
							isScrolling = false;
						}, 300);
						const sections = document.querySelectorAll(".slice");
						if (sections.length === 0) {
							console.warn(
								"No se encontraron elementos con la clase .section",
							);
							return;
						}

						let currentSection = 0;

						sections.forEach((section, index) => {
							const rect = section.getBoundingClientRect();
							if (
								rect.top <= window.innerHeight / 2 &&
								rect.bottom >= window.innerHeight / 2
							) {
								currentSection = index;
							}
						});

						if (e.deltaY > 0) {
							currentSection = Math.min(
								currentSection + 1,
								sections.length - 1,
							);
						} else {
							currentSection = Math.max(currentSection - 1, 0);
						}

						sections[currentSection].scrollIntoView({
							behavior: "smooth",
						});
					},
					{ passive: false },
				);
			});

			window.addEventListener(
				"keydown",
				(e) => {
					if (["ArrowUp", "ArrowDown", "Space"].includes(e.code)) {
						e.preventDefault();
					}
				},
				{ passive: false },
			);
		</script>
	</body>
</html>
