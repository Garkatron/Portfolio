---
import { Image } from "astro:assets";
import "../styles/global.css";
import ComicPhoto from "../components/ComicPhoto.astro";
import ICON_ASTRO from "../assets/icons/orange-astro.svg";
import ICON_JAVA from "../assets/icons/java.svg";
import ICON_TS from "../assets/icons/ts.svg";
import ICON_REACT from "../assets/icons/react.svg";
import ICON_JS from "../assets/icons/js.svg";
import ICON_NODE from "../assets/icons/node.svg";
import ICON_SQL from "../assets/icons/sql.svg";
import ICON_MONGO from "../assets/icons/mongo.svg";
import ProjectCard from "../components/ProjectCard.astro";
import TabPanel from "../components/TabPanel.astro";
import * as Icons from "../components/icons.js";
import * as Images from "../components/images.js";
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Portfolio</title>

		<style>
			.box {
				position: relative;
				margin: 10px;
				overflow: visible;
			}

			.box > * {
				position: relative;
				z-index: 1;
			}

			.projects-grid {
				display: grid;
				width: 100%;
				height: 100%;
			}
			.featured-project {
				flex: 1;
				width: 100%;
				height: 100%;
				object-fit: cover;
				border: 2px solid white;
			}
			.feature-projects {
				display: flex;
				gap: 10px;
				flex: 1;
			}

			#f1 {
				flex: 4;
				flex-direction: column;
				clip-path: polygon(0 0, 100% 0, 100% 95%, 0 100%);
				padding: 50px;
				background-image: url("/Portfolio/circuit-board.svg");
			}
			#f2 {
				flex: 2;
				flex-direction: row;
				gap: 10px;
				flex-wrap: wrap;
				padding: 50px;
				background-image: url("/Portfolio/circuit-board.svg");

				clip-path: polygon(0 5%, 100% 0, 100% 100%, 0 95%);
			}

			#f3 {
				flex: 3;
				padding: 50px;
				background-image: url("/Portfolio/circuit-board.svg");

				clip-path: polygon(0 0, 100% 5%, 100% 100%, 0 100%);
			}

			#about {
				font-size: clamp(1rem, 1.8vw, 2.3rem);
			}
			.project-grid {
				display: flex;
				flex-wrap: wrap;
				justify-content: center;
				gap: 20px;
			}
			.profile-links {
				display: flex;
				flex-wrap: wrap;
				gap: 1rem;
				margin-top: 1rem;
			}
			.profile-links a {
				display: flex;
				align-items: center;
				gap: 0.3rem;
				font-weight: 600;
				text-decoration: none;
			}
			.icon {
				width: 40px;
				height: 40px;
			}

			.project-image {
				width: 200px;
				height: 200px;
				object-fit: cover;
				border-radius: 8px;
				transition: transform 0.3s;
			}

			.project-image:hover {
				transform: scale(1.05);
			}
		</style>
	</head>
	<body class="container">
		<div style="background-color: whitesmoke; padding: 20px;">
			<div
				id="f1"
				class="box has-comic-border-simple is-flex is-justify-content-center is-align-items-center"
			>
				<h1 class="title is-1">Hi! I'm Matias</h1>
				<ComicPhoto />
				<div class="profile-links">
					<a
						href="/Portfolio/MatiasGuliasCarrascalCV.pdf"
						download
						class="btn"
					>
						<Icons.CvIcon class="icon" /> Download CV
					</a>
					<a
						href="https://github.com/Garkatron"
						target="_blank"
						rel="noopener noreferrer"
						class="btn"
					>
						<Icons.GithubIcon class="icon" /> GitHub
					</a>
					<a id="email-button" href="#">
						<Icons.MailIcon class="icon" /> masitacarg@gmail.com
					</a>
				</div>
				<TabPanel
					initialTab="about"
					,
					tabs={[
						{
							id: "default",
							label: "About",
							content:
								"I began my programming journey during the pandemic, starting with Java and exploring other languages. Since then, Iâ€™ve been building projects, learning new concepts, and recently completed a vocational training program (GM FP) in Microinformatic Systems and Communications. I am currently studying DAW (Web Development).",
						},
						{
							id: "ia",
							label: "AI",
							content:
								"I use AI to research, clarify concepts, and handle small refactorings or optimizations. It saves time on repetitive tasks, but I avoid relying on it for major refactors or as my main learning source.",
						},
					]}
				/>
			</div>
			<div
				id="f2"
				class="box has-comic-border-simple is-flex is-justify-content-center is-align-items-center"
			>
				<div class="project-grid">
					<a
						href="https://github.com/Garkatron/ScrapRenderer"
						target="_blank"
						rel="noopener noreferrer"
					>
						<ProjectCard
							src={Images.Renderer3D}
							title="3D Renderer in Rust"
							description=""
							icons={[{ src: Icons.RustIcon, alt: "Rust" }]}
						/>
					</a>

					<a href="" target="_blank" rel="noopener noreferrer">
						<ProjectCard
							description="A PS3 Xross Media Bar Menu Styled Portfolio"
							src={Images.PS3WEB}
							icons={[
								{ src: Icons.React, alt: "React" },
								{ src: Icons.TsIcon, alt: "Ts" },
								{
									src: Icons.FramerMotion,
									alt: "FramerMotion",
								},
							]}
						/>
					</a>
					<a
						href="https://github.com/Garkatron/ComicPortfolio"
						target="_blank"
						rel="noopener noreferrer"
					>
						<ProjectCard
							description="A Comic Styled Portfolio Template"
							src={Images.ComicWeb}
							icons={[
								{ src: Icons.AstroIcon, alt: "Astro" },
								{ src: Icons.JsIcon, alt: "Astro" },
							]}
						/>
					</a>
				</div>
			</div>
			<div
				id="f3"
				class="box has-comic-border-simple is-flex is-justify-content-center is-align-items-center"
			>
				<div class="fixed-grid has-4-cols projects-grid">
					<h2 class="title is-2">Projects</h2>
					<div class="grid">
						<a
							href="https://github.com/Garkatron/Rust-Lox-Interpreter"
							target="_blank"
							rel="noopener noreferrer"
						>
							<Image
								width={200}
								height={200}
								class="cell project-image"
								src={Images.Rloxlang}
								alt="RLoxLang"
							/>
						</a>
						<a
							href="https://github.com/Garkatron/LRU-Cache-Rust"
							target="_blank"
							rel="noopener noreferrer"
						>
							<Image
								width={200}
								height={200}
								class="cell project-image"
								src={Images.Lrucache}
								alt="LRucache"
							/>
						</a>
						<a
							href="https://garkatron.github.io/PC-PokeApi/"
							target="_blank"
							rel="noopener noreferrer"
						>
							<Image
								width={200}
								height={200}
								class="cell project-image"
								src={Images.PokeApi}
								alt="PokeApi"
							/>
						</a>
						<a
							href="https://github.com/Garkatron/Von-Neumann-Simulator"
							target="_blank"
							rel="noopener noreferrer"
						>
							<Image
								width={200}
								height={200}
								class="cell project-image"
								src={Images.Chip8}
								alt="Chip8"
							/>
						</a>
						<a
							href="BTA Guidebook"
							target="_blank"
							rel="noopener noreferrer"
						>
							<Image
								width={200}
								height={200}
								class="cell project-image"
								src={Images.Guidebook}
								alt="Guidebook"
							/>
						</a>
						<a
							href="https://github.com/Garkatron/BTA-Paperwork"
							target="_blank"
							rel="noopener noreferrer"
						>
							<Image
								width={200}
								height={200}
								class="cell project-image"
								src={Images.Paperwork}
								alt="Paperwork"
							/>
						</a>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script>
		document
			.getElementById("email-button")
			?.addEventListener("click", (e) => {
				const email = "masitacarg@gmail.com";
				navigator.clipboard
					.writeText(email)
					.then(() => {
						alert("Email copied to clipboard: " + email);
					})
					.catch((err) => {
						console.error("Failed to copy email: ", err);
						alert("Failed to copy email. Please try again.");
					});
			});
	</script>
</html>
